<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- TOUJOURS APPELER -->
    <link rel="stylesheet" href="css/layout/layout.css">
    <link rel="stylesheet" href="css/base/reset.css">
    <link rel="stylesheet" href="css/base/common.css">
    <link rel="stylesheet" href="css/elements/forms.css">  
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> -->
    <!-- POUR CHAQUE PAGE -->
    <link rel="stylesheet" href="css/elements/login.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/redac-script.js"></script>
    <title>Redaction App | Login</title>
</head>
<body>
    <div class="flex-content flex-jcenter-acenter flex-col pop-up" style="height: 100vh">
        <div class="popup-container with-shadow">
            <div class="content-section" id="reset-password">
                <p>Veuillez entrer votre nouveau mot de passe et cliquez sur le bouton "Réinitialiser le mot de passe" pour l'enregistrer.</p>
                <form action="/Login/ConfirmUpdatePassword" class="formfields" method="post">
                    <input id="userMotdepasse" class="pass-field" name="userMotdepasse" placeholder="Nouveau mot de passe" required="True" type="password">
                    <input id="userMotdepasseConfirme" class="pass-field" name="userMotdepasseConfirme" placeholder="Confirmer mot de passe" required="True" type="password">
                    <div id="mdp-equality"></div>
                    <ul class="policies">
                        <li id="pass-length">Au moin caractère 8</li>
                        <li id="pass-min-maj">Utilisez des MAJ et des MIN</li>
                        <li id="pass-special">Utilisez des caractères spéciaux</li>
                        <li id="pass-number">Pensez à ajouter des chiffres</li>
                    </ul>    
                    <div id="result"></div>                
                <div class="text-centered">
                    <input type="submit" value="Reset" class="btn btn-primary">
                    <a class="btn btn-warning" href="/">Annuler</a>
                </div>
                </form>
            </div>
        </div>    
    </div>
</body>
<script type="text/javascript">
    function checkStrength(s){var a=0;return s.length>=8?(a+=1,$("#pass-length").removeClass(),$("#pass-length").addClass("valid")):($("#result").addClass("short"),$("#pass-length").removeClass(),$("#pass-length").addClass("invalid")),s.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&s.length>0?(a+=1,$("#pass-min-maj").removeClass(),$("#pass-min-maj").addClass("valid")):($("#pass-min-maj").removeClass(),$("#pass-min-maj").addClass("invalid")),s.match(/([0-9])/)&&null!=s.length?(a+=1,$("#pass-number").removeClass(),$("#pass-number").addClass("valid")):($("#pass-number").removeClass(),$("#pass-number").addClass("invalid")),s.match(/([!,%,&,@,#,$,^,*,?,_,~])/)&&null!=s.length?(a+=1,$("#pass-special").removeClass(),$("#pass-special").addClass("valid")):($("#pass-special").removeClass(),$("#pass-special").addClass("invalid")),s.match(/(.*[!,%,&,@,#,$,^,*,?,_,~].*[!,%,&,@,#,$,^,*,?,_,~])/)&&null!=s.length&&(a+=1),a<2?($("#result").removeClass(),$("#result").addClass("faible"),"Faible"):2==a?($("#result").removeClass(),$("#result").addClass("bon"),"Bon"):($("#result").removeClass(),$("#result").addClass("fort"),"Fort")}function checkEquality(){var s=$("#userMotdepasse").val(),a=$("#userMotdepasseConfirme").val();a&&s==a?(console.log("pass"),$("#mdp-equality").html('<i class="fa fa-info-circle"></i>  Vos mots de passe concordent')):$("#mdp-equality").html('<i class="fa fa-info-circle"></i>  Les deux mots de passes ne sont pas identiques')}$("#userMotdepasse").keyup(function(){$("#result").html(checkStrength($("#userMotdepasse").val()))}),$(".pass-field").keyup(function(){checkEquality()});
</script>
</html>